(this["webpackJsonp4eddit-boilerplate"]=this["webpackJsonp4eddit-boilerplate"]||[]).push([[0],{67:function(e,n,t){e.exports=t(94)},94:function(e,n,t){"use strict";t.r(n);var a={};t.r(a),t.d(a,"setAllPosts",(function(){return D})),t.d(a,"postDetails",(function(){return _})),t.d(a,"getPostId",(function(){return V})),t.d(a,"getPosts",(function(){return F})),t.d(a,"addPost",(function(){return N})),t.d(a,"votePost",(function(){return A})),t.d(a,"voteComment",(function(){return q})),t.d(a,"createComment",(function(){return U})),t.d(a,"getPostDetails",(function(){return X})),t.d(a,"redirectSignup",(function(){return B})),t.d(a,"signup",(function(){return G})),t.d(a,"login",(function(){return J}));var r=t(0),o=t.n(r),c=t(29),i=t.n(c),u=t(9),l=t(55),s=t(108),p=t(109),d=t(64),m=t(59),f=t.n(m),h=Object(d.a)({palette:{primary:f.a}}),b=t(65),g=t(25),v=t(34),x=t(18),E=t(19),y=t(20),O=t(24),w=t(23),j=t(6),k=t(3),C=t.n(k),I=t(14),S=t(16),P=t.n(S),T=t(5);function D(e){return{type:"SET_ALL_POSTS",payload:{posts:e}}}function _(e){return{type:"POST_DETAILS",payload:{comments:e}}}var V=function(e){return{type:"GET_POST_ID",payload:{id:e}}},L="https://us-central1-future-apis.cloudfunctions.net/fourEddit",F=function(){return function(){var e=Object(I.a)(C.a.mark((function e(n,t){var a,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),e.next=4,P.a.get("".concat(L,"/posts"),{headers:{auth:a}});case 4:r=e.sent,n(D(r.data.posts)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Ocorreu um erro inesperado. Tente novamente.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,t){return e.apply(this,arguments)}}()},N=function(e,n){return function(){var t=Object(I.a)(C.a.mark((function t(a,r){var o,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=localStorage.getItem("token"),c={title:e,text:n},t.prev=2,t.next=5,P.a.post("".concat(L,"/posts"),c,{headers:{auth:o}});case 5:t.sent,a(F()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),alert("Erro ao adicionar seu post. Tente novamente");case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()},A=function(e,n){return function(){var t=Object(I.a)(C.a.mark((function t(a,r){var o,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=localStorage.getItem("token"),c={direction:e},t.prev=2,t.next=5,P.a.put("".concat(L,"/posts/").concat(n,"/vote"),c,{headers:{auth:o}});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),alert("Ocorreu um erro inesperado. Tente novamente");case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}()},q=function(e,n,t){return function(){var a=Object(I.a)(C.a.mark((function a(r,o){var c,i;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=localStorage.getItem("token"),i={direction:e},a.prev=2,a.next=5,P.a.put("".concat(L,"/posts/").concat(n,"/comment/").concat(t,"/vote"),i,{headers:{auth:c}});case 5:r(X(n,c)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),alert("Ocorreu um erro inesperado. Tente novamente");case 11:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e,n){return a.apply(this,arguments)}}()},U=function(e,n){return function(){var t=Object(I.a)(C.a.mark((function t(a,r){var o,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=localStorage.getItem("token"),c={text:n},t.prev=2,t.next=5,P.a.post("".concat(L,"/posts/").concat(e,"/comment"),c,{headers:{auth:o}});case 5:t.sent,a(X(e,o)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),alert("Ocorreu um erro inesperado. Tente novamente.");case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()},X=function(e,n){return function(){var t=Object(I.a)(C.a.mark((function t(a,r){var o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.get("".concat(L,"/posts/").concat(e),{headers:{auth:n}});case 3:o=t.sent,localStorage.setItem("postId",e),a(_(o.data.post)),a(Object(T.d)(le.details)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),alert("Ocorreu um erro inesperado. Atualize seu navegador.");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},B=function(){return function(){var e=Object(I.a)(C.a.mark((function e(n,t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(Object(T.d)(le.signup));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},G=function(e,n,t){return function(){var a=Object(I.a)(C.a.mark((function a(r,o){var c,i;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={username:e,email:n,password:t},a.prev=1,a.next=4,P.a.post("".concat(L,"/signup"),c);case 4:i=a.sent,localStorage.setItem("token",i.data.token),r(Object(T.d)(le.posts)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),alert("Ocorreu um erro inesperado. Tente novamente.");case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e,n){return a.apply(this,arguments)}}()},J=function(e,n){return function(){var t=Object(I.a)(C.a.mark((function t(a,r){var o,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={email:e,password:n},t.prev=1,t.next=4,P.a.post("".concat(L,"/login"),o);case 4:c=t.sent,localStorage.setItem("token",c.data.token),a(Object(T.d)(le.posts)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),alert("Erro no login, tente novamente!");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()},R=t(21),z=t(22);function M(){var e=Object(R.a)(["\n\ndisplay:flex;\njustify-content:center;\nalign-items:center;\nmargin-top:20%;\nflex-direction:column;\n\nform{\n    display:flex;\n    flex-direction:column;\n    justify-content:center;\n\n    input {\n        padding:5px 10px;\n        border-radius:5px;\n    }\n\n    input, button {\n        margin:5px auto;\n        border:none\n    }\n    \n    button {\n        background-color: #6200ee;\n        color:white;\n        padding:5px 10px;\n        border-radius:10px;\n        width: 80px;\n    }\n\n\n}\n\nbutton {\n        background-color:lightgray;\n        color:black;\n        padding:5px 10px;\n        border-radius:10px;\n        width: 80px;\n        margin:5px 0;\n        border:none;\n        \n    }\n\n"]);return M=function(){return e},e}var H=z.a.div(M()),K=function(e){Object(O.a)(t,e);var n=Object(w.a)(t);function t(){var e;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={email:"",password:""},e.handleFieldChange=function(n){e.setState(Object(x.a)({},n.target.name,n.target.value))},e.handleLogin=function(n){n.preventDefault(),e.props.login(e.state.email,e.state.password)},e}return Object(y.a)(t,[{key:"render",value:function(){var e=this.state,n=e.email,t=e.password;return o.a.createElement(H,null,o.a.createElement("form",{onSubmit:this.handleLogin},o.a.createElement("input",{onChange:this.handleFieldChange,name:"email",type:"email",label:"E-mail",value:n,required:!0}),o.a.createElement("input",{onChange:this.handleFieldChange,name:"password",type:"password",label:"Password",value:t,required:!0}),o.a.createElement("button",{type:"submit"},"Entrar")),o.a.createElement("button",{type:"submit",onClick:this.props.redirectSignup},"Cadastrar"))}}]),t}(r.Component),Q=Object(u.c)(null,(function(e){return Object(j.b)(a,e)}))(K);function W(){var e=Object(R.a)(["\ndisplay:flex;\nflex-direction:column;\njustify-content:center;\nalign-items:center;\ntext-align:center;\n\n\nform {\n    background-color: #311b92;\n    text-align:center;\n    width:500px;\n    height:115px;\n    border-radius:10px;\n    padding-top:15px;\n\n    input {\n        padding:5px 10px;\n        border-radius:5px;\n    }\n\n    input, button {\n        margin:5px auto;\n        border:none;\n        display:block;\n    }\n    button {\n        margin:5px auto;\n        background-color: #6200ee;\n        color:white;\n        padding:5px 10px;\n        border-radius:10px;\n        width: 80px;\n    }\n    \n   \n}\nul {\n        list-style-type:none;\n        margin:0;\n        padding:0;\n        \n        li {\n            cursor: pointer;\n            border-radius:10px;\n            margin:10px 0;\n            background-color:#ede7f6;\n            width:500px;\n            height:100%;\n            padding:10px; \n            \n            button {\n                outline:none;\n                background-color: transparent;\n                padding:5px 10px;\n                border:none;\n                width: 80px;\n             \n            }\n   \n\n            div {\n                display:flex;\n                justify-content:space-evenly;\n\n                p {\n                    i {\n                        margin:0 7px\n                    }\n                }\n            }\n        }\n\n    }\n\n"]);return W=function(){return e},e}var Y=z.a.div(W()),Z=function(e){Object(O.a)(t,e);var n=Object(w.a)(t);function t(e){var a;return Object(E.a)(this,t),(a=n.call(this,e)).handleInputChange=function(e){var n=e.target,t=n.value,r=n.name;a.setState(Object(x.a)({},r,t))},a.handleSubmitForm=function(e){e.preventDefault(),a.props.addPost(a.state.inputTitleValue,a.state.inputPostValue),a.setState({inputPostValue:"",inputTitleValue:""})},a.handleSubmitId=function(e){a.props.getPostDetails(e,localStorage.getItem("token"))},a.handleLike=function(e,n){0===n||-1===n?a.props.votePost(1,e):a.props.votePost(0,e)},a.handleDislike=function(e,n){0===n||1===n?a.props.votePost(-1,e):a.props.votePost(0,e)},a.state={inputPostValue:"",inputTitleValue:"",thumbs:!1},a}return Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.getPosts()}},{key:"render",value:function(){var e=this;return o.a.createElement(Y,null,o.a.createElement("h1",null,"P\xe1gina de Feed"),o.a.createElement("form",{onSubmit:this.handleSubmitForm},o.a.createElement("input",{required:!0,onChange:this.handleInputChange,type:"text",name:"inputPostValue",value:this.inputPostValue,placeholder:"O que voc\xea est\xe1 pensando?"}),o.a.createElement("input",{required:!0,onChange:this.handleInputChange,name:"inputTitleValue",type:"text",value:this.inputTitleValue,placeholder:"T\xedtulo do post"}),o.a.createElement("button",{type:"submit"},"Publicar")),o.a.createElement("ul",null,this.props.posts&&this.props.posts.map((function(n){return o.a.createElement("li",{key:n.id,onClick:function(){return e.handleSubmitId(n.id)}},o.a.createElement("strong",null,n.username),o.a.createElement("br",null),o.a.createElement("em",null,n.title),o.a.createElement("p",null,n.text),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){return e.handleDislike(n.id,n.userVoteDirection)}},o.a.createElement("i",{class:"fas fa-long-arrow-alt-down"})),o.a.createElement("p",null,n.votesCount),o.a.createElement("button",{onClick:function(){return e.handleLike(n.id,n.userVoteDirection)}},o.a.createElement("i",{class:"fas fa-long-arrow-alt-up"}))),o.a.createElement("p",null,n.commentsCount," coment\xe1rios")))}))))}}]),t}(r.Component),$=Object(u.c)((function(e){return{posts:e.todo.posts,postId:e.todo.postInfo}}),(function(e){return Object(j.b)(a,e)}))(Z);function ee(){var e=Object(R.a)(["\ndisplay:flex;\nflex-direction:column;\njustify-content:center;\nalign-items:center;\ntext-align:center;\nmargin-top:20px;\n\nsection {\n    input {\n        padding:5px 10px;\n        border-radius:5px;\n        width:410px;\n        outline:none;\n    }\n\n    input, button {\n        margin:5px auto;\n        border:none\n        \n    }\n    \n    button {\n        background-color: #6200ee;\n        color:white;\n        padding:5px 10px;\n        margin-left:5px;\n        border-radius:10px;\n        width: 80px;\n    }\n\n}\n\n\n> div {\n    background-color:#311b92;\n    color:white;\n    text-align:center;\n    width:500px;\n    height:100%;\n    border-radius:10px;\n    padding-top:15px;\n\n    > div {\n        display:flex;\n        justify-content:space-evenly;\n        > div {\n            display:flex;\n            justify-content:space-evenly;\n            button {\n                outline:none;\n                background-color: transparent;\n                padding:5px 10px;\n                border:none;\n                width: 80px;\n                color:white;\n             \n            }\n        }\n    } \n   \n}\n\nbutton {\n    display:inline;\n}\n\n\n        main {\n            cursor: pointer;\n            border-radius:10px;\n            margin:10px 0;\n            background-color:#ede7f6;\n            width:500px;\n            height:100%;\n            padding:10px;\n\n           div {\n            display:flex;\n            justify-content:space-evenly; \n            > div {\n            button {\n                outline:none;\n                background-color: transparent;\n                padding:5px 10px;\n                border:none;\n                width: 80px;\n             \n            }\n   \n        }\n\n           } \n\n           \n        }\n\n\n"]);return ee=function(){return e},e}var ne=z.a.div(ee()),te=function(e){Object(O.a)(t,e);var n=Object(w.a)(t);function t(){var e;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={inputCommentValue:""},e.onChangeInputComment=function(n){e.setState({inputCommentValue:n.target.value})},e.onClickButton=function(n){e.props.createComment(n,e.state.inputCommentValue)},e.handleLike=function(n,t,a){0===n||-1===n?e.props.voteComment(1,t,a):e.props.voteComment(0,t,a)},e.handleDislike=function(n,t,a){0===n||1===n?e.props.voteComment(-1,t,a):e.props.voteComment(0,t,a)},e}return Object(y.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(ne,null,o.a.createElement("div",null,o.a.createElement("strong",null,this.props.postInfo.username),o.a.createElement("p",null,this.props.postInfo.title),o.a.createElement("p",null,this.props.postInfo.text),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("button",null,o.a.createElement("i",{class:"fas fa-long-arrow-alt-down"})),o.a.createElement("p",null,this.props.postInfo.votesCount),o.a.createElement("button",null,o.a.createElement("i",{class:"fas fa-long-arrow-alt-up"}))),o.a.createElement("p",null,this.props.postInfo.commentsCount," comentarios "))),o.a.createElement("section",null,o.a.createElement("input",{onChange:this.onChangeInputComment,value:this.state.inputCommentValue,placeholder:"seu comentario"}),o.a.createElement("button",null,"Comentar")),this.props.postInfo.comments&&this.props.postInfo.comments.map((function(n){return o.a.createElement("main",{key:n.id},o.a.createElement("strong",null,n.username),o.a.createElement("p",null,n.text),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){return e.handleDislike(e.props.postInfo.userVoteDirection,e.props.postInfo.id,n.id)}},o.a.createElement("i",{class:"fas fa-long-arrow-alt-down"})),o.a.createElement("p",null,n.votesCount),o.a.createElement("button",{onClick:function(){return e.handleLike(e.props.postInfo.userVoteDirection,e.props.postInfo.id,n.id)}},o.a.createElement("i",{class:"fas fa-long-arrow-alt-up"})))))})))}}]),t}(r.Component),ae=Object(u.c)((function(e){return{posts:e.todo.posts,postInfo:e.todo.postInfo}}),(function(e){return Object(j.b)(a,e)}))(te);function re(){var e=Object(R.a)(["\n\ndisplay:flex;\njustify-content:center;\nalign-items:center;\nmargin-top:15%;\nflex-direction:column;\n\nform {\n    display:flex;\n    flex-direction:column;\n    justify-content:center;\n\n    input {\n        margin-bottom:10px;\n        padding:5px 10px;\n        border-radius:5px;\n    }\n\n    input, button {\n        border:none\n    }\n\n    label {\n        margin:10px;\n    }\n    \n    button {\n        margin:5px auto;\n        background-color: #6200ee;\n        color:white;\n        padding:5px 10px;\n        border-radius:10px;\n        width: 80px;\n    }\n}\n\n"]);return re=function(){return e},e}var oe=z.a.div(re()),ce=function(e){Object(O.a)(t,e);var n=Object(w.a)(t);function t(){var e;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={userName:"",email:"",password:""},e.handleFieldChange=function(n){e.setState(Object(x.a)({},n.target.name,n.target.value))},e.handleSignUp=function(n){n.preventDefault(),e.props.signup(e.state.userName,e.state.email,e.state.password)},e}return Object(y.a)(t,[{key:"render",value:function(){var e=this.state,n=e.email,t=e.password,a=e.userName;return o.a.createElement(oe,null,o.a.createElement("form",{onSubmit:this.handleSignUp},o.a.createElement("label",null,"Nome: "),o.a.createElement("input",{onChange:this.handleFieldChange,name:"userName",type:"text",label:"Nome",value:a,required:!0,placeholder:"Insira seu nome"}),o.a.createElement("label",null,"E-mail: "),o.a.createElement("input",{onChange:this.handleFieldChange,name:"email",type:"email",label:"E-mail",value:n,required:!0,placeholder:"Insira seu email"}),o.a.createElement("label",null,"Senha: "),o.a.createElement("input",{onChange:this.handleFieldChange,name:"password",type:"password",label:"Password",value:t,placeholder:"Insira sua senha",required:!0}),o.a.createElement("button",{type:"submit"},"Cadastrar")))}}]),t}(r.Component),ie=Object(u.c)(null,(function(e){return Object(j.b)(a,e)}))(ce),ue=function(e){var n=e.component,t=Object(b.a)(e,["component"]);return o.a.createElement(v.b,Object.assign({},t,{render:function(e){return localStorage.getItem("token")?o.a.createElement(n,e):o.a.createElement(v.a,{to:{pathname:"/",state:{from:e.location}}})}}))},le={root:"/",posts:"/posts",details:"/posts/details",signup:"/signup"};var se=function(e){return o.a.createElement(g.a,{history:e.history},o.a.createElement(v.d,null,o.a.createElement(ue,{exact:!0,path:le.details,component:ae}),o.a.createElement(v.b,{exact:!0,path:le.root,component:Q}),o.a.createElement(v.b,{exact:!0,path:le.signup,component:ie}),o.a.createElement(ue,{exact:!0,path:le.posts,component:$})))},pe=t(13),de=t(35);function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_ALL_POSTS":return Object(de.a)({},e,{posts:n.payload.posts});case"POST_DETAILS":return Object(de.a)({},e,{postInfo:n.payload.comments});case"GET_POST_ID":return Object(de.a)({},e,{postId:n.payload.id});default:return e}}var fe,he=t(53),be=Object(pe.a)(),ge=[Object(j.a)(Object(he.a)(be),l.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}],ve=Object(j.e)((fe=be,Object(j.c)({router:Object(g.b)(fe),todo:me})),j.d.apply(void 0,ge)),xe=function(){return o.a.createElement(u.a,{store:ve},o.a.createElement(s.a,{theme:h},o.a.createElement(p.a,null),o.a.createElement(se,{history:be})))},Ee=document.getElementById("root");i.a.render(o.a.createElement(xe,null),Ee)}},[[67,1,2]]]);
//# sourceMappingURL=main.82639ad9.chunk.js.map